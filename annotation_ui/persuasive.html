{% raw %}
<script src="https://unpkg.com/vue"></script>
<script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.js"></script>
{% endraw %}
{% if dev %}
<link rel="stylesheet" href="persuasive.css">
{% else %}
<link rel="stylesheet" href="https://s3.amazonaws.com/megacomplete.net/anno/persuasive.css">
{% endif %}
{% raw %}
<div id="app" v-cloak>

<div style="background: yellow; padding: 5px;">
    <p>Read the restaurant reviews below.</p>

    <!-- <p>Suppose you have just been given 100 tokens. Each token can be exchanged for a raffle ticket for a restaurant gift certificate--- but you have to choose which restaurant. All of the </p> -->

    <p>Suppose you have just been given 100 tickets for a raffle for a gift certificate to one of four restaurants. But before the winning ticket is drawn, you must split your tickets into four piles, one for each restaurant. If one of your tickets wins, the gift certificate you'll get will be for the restaurant you assigned it to.</p>

    <p><b>Example</b>: if you had only 10 tickets, and you put them in piles like this:</p>
    <ul>
        <li><b>Restaurant 1</b>: 104, 106, 107, 110</li>
        <li><b>Restaurant 2</b>: (no tickets)</li>
        <li><b>Restaurant 3</b>: 101</li>
        <li><b>Restaurant 4</b>: 100, 102, 103, 105, 108, 109</li>
    </ul>

    <p>If ticket 101 won, you'd get a gift certificate for Restaurant C; if ticket 109 won, you'd get a ticket to Restaurant D.</p>

    <p>Here are the four restaurants in this raffle. Note: some of the reviews may be for restaurants that aren't actually near you. No worries, if one of those wins, you'd get a gift certificate for a comparable restaurant near you.</p>

    <p>How many tickets would you put towards each of the four restauants below?</p>
</div>

    <div class="reviews">
        <div v-for="(text, textIdx) in texts" class="restaurant">
            <h3>Restaurant {{textIdx + 1}}</h3>
            <p>{{text.review}}</p>
        </div>
    </div>

    How many of your 100 tickets would you put towards each restaurant?
    <table class="votes">
        <tbody>
            <tr v-for="(text, textIdx) in texts">
                <td>Restaurant {{textIdx + 1}}</td>
                <td><input v-model.number="text.votes" type="number" min="0" max="100"> tickets</td>
            </tr>
        </tbody>
    </table>

    <p>You should allocate 100 tickets total. You have currently allocated {{texts[0].votes + texts[1].votes + texts[2].votes + texts[3].votes}}.</p>

    <p>(Unfortunately, we can't actually do this raffle. Sorry to get your hopes up!)</p>

    <br><br><br>

    <input type="hidden" name="results" v-bind:value="JSON.stringify(texts)">

<p>We&#39;re still refining this HIT, so we&#39;d appreciate your feedback: are the instructions clear? How long did it actually take you? Is the payment fair? Any technical difficulties? Anything else?</p>
<textarea cols="80" name="feedback" placeholder="totally optional feedback" rows="4"></textarea>

</div>

{% endraw %}
<script>
var taskData = {% if dev %}{{task}}{% else %}${task}{% endif %};
</script>
{% if dev %}
<script src="persuasive.js"></script>
{% else %}
<script src="https://s3.amazonaws.com/megacomplete.net/anno/persuasive.js"></script>
{% endif %}
